<app-modal-component>
  <dialog-title>
    <span *ngIf="data.isEdit">
      {{'Edit Candidate' | translate}}
    </span>
    <span *ngIf="!data.isEdit">
      {{'Add Candidate' | translate}}
    </span>
  </dialog-title>
  <dialog-body>
    <div *ngIf="editedCandidate && candidateForm">
      <form [formGroup]="candidateForm">
        <mat-form-field class="example-full-width">
          <input class="star-input" formControlName="name" [(ngModel)]="editedCandidate.name"  matInput placeholder="{{'Name' | translate}}*">
          <mat-error *ngIf="candidateForm.controls['name'].hasError('required')">
            {{'Name is required' | translate}}
          </mat-error>
          <mat-error *ngIf="candidateForm.controls['name'].hasError('pattern')">
            {{'Name must contain only latin characters' | translate}}
          </mat-error>
        </mat-form-field>
        <mat-form-field class="example-full-width">
          <input class="star-input" formControlName="surname" [(ngModel)]="editedCandidate.surname" matInput placeholder="{{'Surname' | translate}}*" >
          <mat-error *ngIf="candidateForm.controls['surname'].hasError('required')">
            {{'Surname is required' | translate}}
          </mat-error>
          <mat-error *ngIf="candidateForm.controls['surname'].hasError('pattern')">
            {{'Surname must contain only latin characters' | translate}}
          </mat-error>
        </mat-form-field>
        <mat-form-field class="example-full-width">
          <input formControlName="position" matInput placeholder="{{'Position' | translate}}">
        </mat-form-field>
        <mat-form-field class="example-full-width">
          <mat-select formControlName="status" [placeholder]="'Status' | translate" [(ngModel)]="editedCandidate.candidateState.name">
            <mat-option *ngFor="let state of setStates" [value]="state" >{{state | translate}}</mat-option>
          </mat-select>
        </mat-form-field>
        <mat-form-field class="example-full-width">
          <input formControlName="skype" [(ngModel)]="editedCandidate.contacts[0].contactDetails" matInput placeholder="{{'SKYPE' | translate}}">
        </mat-form-field>
        <!--<international-phone-number [(ngModel)]="model.phone_number" placeholder="Enter phone number" [maxlength]="20" [defaultCountry]="'be'" [required]="true" #phone_number="ngModel" name="phone_number"></international-phone-number>-->
        <mat-form-field  class="example-full-width">
          <input [textMask]="{mask: mask}" formControlName="phone" [(ngModel)]="editedCandidate.contacts[1].contactDetails" matInput placeholder="{{'PHONE' | translate}}">
          <mat-error *ngIf="candidateForm.controls['phone'].hasError('pattern')">
            {{'Please enter a valid phone number with valida operator code like 17, 29, 33, 44' | translate}}
          </mat-error>
        </mat-form-field>
        <mat-form-field class="example-full-width">
          <input formControlName="email" [(ngModel)]="editedCandidate.contacts[2].contactDetails" matInput placeholder="{{'EMAIL' | translate}}">
          <mat-error *ngIf="candidateForm.controls['email'].hasError('pattern')">
            {{'Please enter a valid email address' | translate}}
          </mat-error>
        </mat-form-field>
      </form>
    </div>
    <!--<mat-form-field class="example-full-width">-->
      <!--<input *ngIf="editedAttachment != null" placeholder="filePath" [(ngModel)]="editedAttachment.filePath" matInput>-->
    <!--</mat-form-field>-->
    <!--<mat-form-field class="example-full-width">-->

      <!--<mat-select placeholder="Attachment type">-->
        <!--<mat-option *ngFor="let food of getAttachmentsTypes()" [value]="food">-->
          <!--{{food}}-->
        <!--</mat-option>-->
      <!--</mat-select>-->
    <!--</mat-form-field>-->
  </dialog-body>
  <dialog-footer class="example-full-width">
    <span class="float-right">
      <button mat-button (click)="onNoClick()">{{'No Thanks' | translate}}</button>
      <button [disabled]="candidateForm?.invalid" mat-button mat-raised-button color="primary" (click)="editCandidate()" cdkFocusInitial>{{'Ok' | translate}}</button>
    </span>
  </dialog-footer>
</app-modal-component>
